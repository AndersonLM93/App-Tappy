<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tappy - Conecte-se aos Neg√≥cios Locais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tappy-blue': '#1DA1F2',
                        'tappy-orange': '#FFB703',
                        'tappy-gray': '#F5F5F5',
                        'tappy-dark': '#333333'
                    },
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Poppins', sans-serif; }
        
        .video-container {
            aspect-ratio: 9/16;
            max-height: 70vh;
        }
        
        .map-pin {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in-right {
            animation: slideInRight 0.5s ease-out;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.5s ease-out;
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        .zoom-in {
            animation: zoomIn 0.3s ease-out;
        }
        
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .heart-bounce {
            animation: heartBounce 0.6s ease-out;
        }
        
        @keyframes heartBounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .pulse-location {
            animation: pulseLocation 2s infinite;
        }
        
        @keyframes pulseLocation {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .camera-bounce {
            animation: cameraBounce 2s infinite;
        }
        
        @keyframes cameraBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1E90FF 0%, #FFD700 100%);
        }
        
        .video-bg {
            background: linear-gradient(45deg, rgba(30,144,255,0.1), rgba(255,215,0,0.1));
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .hover-scale {
            transition: transform 0.2s ease;
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
        }
        
        .btn-hover {
            transition: all 0.3s ease;
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .modal-overlay {
            backdrop-filter: blur(5px);
        }
        
        .business-marker {
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .business-marker:hover {
            transform: scale(1.1);
        }
        
        .user-marker {
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-white">
    <!-- Tela de Boas-Vindas -->
    <div id="welcome-screen" class="min-h-screen bg-tappy-blue flex flex-col items-center justify-center p-6">
        <div class="text-center mb-12 fade-in">
            <div class="w-32 h-32 bg-white rounded-full flex items-center justify-center mb-6 mx-auto shadow-2xl hover-scale">
                <span class="text-5xl font-bold text-tappy-blue">T</span>
            </div>
            <h1 class="text-6xl font-bold text-white mb-4 drop-shadow-lg">Tappy</h1>
            <p class="text-white text-xl opacity-90 font-light">Conecte-se aos neg√≥cios locais</p>
            <p class="text-tappy-gray text-sm opacity-75 mt-2">Descubra, compartilhe, conecte-se</p>
        </div>
        
        <div class="w-full max-w-sm space-y-4">
            <button onclick="showScreen('signup-screen')" class="w-full bg-tappy-orange text-white py-4 rounded-xl font-semibold text-lg shadow-lg btn-hover">
                Criar Conta
            </button>
            <button onclick="showScreen('login-screen')" class="w-full border-2 border-white text-white py-4 rounded-xl font-semibold text-lg btn-hover hover:bg-white hover:text-tappy-blue">
                Entrar
            </button>
        </div>
        
        <!-- Elementos decorativos animados -->
        <div class="absolute top-20 left-10 w-4 h-4 bg-white rounded-full opacity-30 animate-ping"></div>
        <div class="absolute bottom-32 right-16 w-6 h-6 bg-tappy-orange rounded-full opacity-40 animate-bounce"></div>
        <div class="absolute top-1/3 right-8 w-3 h-3 bg-white rounded-full opacity-50 animate-pulse"></div>
    </div>

    <!-- Tela de Cadastro -->
    <div id="signup-screen" class="hidden min-h-screen bg-tappy-blue p-6">
        <div class="max-w-md mx-auto">
            <button onclick="showScreen('welcome-screen')" class="mb-6 text-white hover:text-tappy-gray transition-colors">
                ‚Üê Voltar
            </button>
            
            <!-- Logo Tappy no topo -->
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                    <span class="text-3xl font-bold text-tappy-blue">T</span>
                </div>
                <h2 class="text-3xl font-bold text-white">Criar Conta</h2>
            </div>
            
            <div class="bg-white rounded-xl p-6 shadow-2xl zoom-in">
                <div class="space-y-4">
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-gray-400">üë§</span>
                        <input type="text" placeholder="Nome completo" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                    </div>
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-gray-400">üìß</span>
                        <input type="email" placeholder="Digite seu e-mail" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                    </div>
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-gray-400">üîí</span>
                        <input type="password" placeholder="Crie uma senha" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                    </div>
                </div>
                
                <button onclick="showMainApp()" class="w-full bg-tappy-orange text-white py-4 rounded-xl font-semibold mt-6 btn-hover">
                    Cadastrar
                </button>
                
                <p class="text-center text-tappy-dark mt-4">
                    J√° tenho conta? 
                    <button onclick="showScreen('login-screen')" class="text-tappy-blue font-semibold hover:text-blue-600 transition-colors">Entrar</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Tela de Login -->
    <div id="login-screen" class="hidden min-h-screen bg-tappy-blue p-6">
        <div class="max-w-md mx-auto">
            <button onclick="showScreen('welcome-screen')" class="mb-6 text-white hover:text-tappy-gray transition-colors">
                ‚Üê Voltar
            </button>
            
            <!-- Logo Tappy no topo -->
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                    <span class="text-3xl font-bold text-tappy-blue">T</span>
                </div>
                <h2 class="text-3xl font-bold text-white">Entrar</h2>
            </div>
            
            <div class="bg-white rounded-xl p-6 shadow-2xl zoom-in">
                <div class="space-y-4">
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-gray-400">üìß</span>
                        <input type="email" placeholder="Digite seu e-mail" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                    </div>
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-gray-400">üîí</span>
                        <input type="password" placeholder="Digite sua senha" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                    </div>
                </div>
                
                <button onclick="showMainApp()" class="w-full bg-tappy-orange text-white py-4 rounded-xl font-semibold mt-6 btn-hover">
                    Entrar
                </button>
                
                <p class="text-center text-tappy-dark mt-4">
                    N√£o tem conta? 
                    <button onclick="showScreen('signup-screen')" class="text-tappy-blue font-semibold hover:text-blue-600 transition-colors">Criar conta</button>
                </p>
            </div>
        </div>
    </div>

    <!-- App Principal -->
    <div id="main-app" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-40">
            <h1 class="text-2xl font-bold text-tappy-blue">Tappy</h1>
            <div class="flex items-center space-x-3">
                <button class="text-2xl hover-scale">üîç</button>
                <button onclick="toggleNotifications()" class="relative text-2xl hover-scale">
                    <span id="notification-icon">üîî</span>
                    <span id="notification-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center hidden">3</span>
                </button>
                <div class="w-8 h-8 bg-gradient-to-r from-tappy-blue to-tappy-orange rounded-full hover-scale"></div>
            </div>
        </header>

        <!-- Feed de V√≠deos -->
        <div id="feed-tab" class="tab-content hidden pb-20">
            <div class="space-y-0">
                <!-- V√≠deo 1 -->
                <div class="bg-white shadow-lg">
                    <div class="flex items-center p-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-tappy-gold to-yellow-400 rounded-full mr-3 hover-scale cursor-pointer" onclick="showBusinessProfile('padaria')"></div>
                        <div class="flex-1">
                            <h3 class="font-semibold cursor-pointer hover:text-tappy-blue transition-colors" onclick="showBusinessProfile('padaria')">Padaria do Jo√£o</h3>
                            <p class="text-gray-500 text-sm">üìç 500m ‚Ä¢ h√° 2 horas</p>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600">‚ãØ</button>
                    </div>
                    
                    <div class="video-container bg-gradient-to-br from-amber-100 to-orange-200 flex items-center justify-center relative cursor-pointer" onclick="toggleVideo(this)">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg hover-scale">
                                <span class="text-tappy-blue text-2xl play-btn">‚ñ∂</span>
                            </div>
                            <p class="text-gray-700 font-medium">P√£es frescos saindo do forno!</p>
                        </div>
                        <div class="absolute inset-0 bg-black bg-opacity-0 transition-all duration-300 hover:bg-opacity-10"></div>
                    </div>
                    
                    <div class="p-4">
                        <p class="mb-4 text-gray-800">Nossos p√£es artesanais s√£o feitos com ingredientes selecionados! üçû‚ú® #P√£oArtesanal #FrescoTodosDias</p>
                        <div class="flex items-center justify-between">
                            <div class="flex space-x-6">
                                <button onclick="likeVideo(this)" class="flex items-center space-x-2 text-tappy-dark hover:text-red-500 transition-colors like-btn">
                                    <span class="text-xl">ü§ç</span>
                                    <span class="like-count text-tappy-dark">124</span>
                                </button>
                                <button onclick="openComments()" class="flex items-center space-x-2 text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üí¨</span>
                                    <span class="text-tappy-dark">12</span>
                                </button>
                                <button onclick="shareVideo()" class="text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üì§</span>
                                </button>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">üîñ</button>
                        </div>
                    </div>
                </div>

                <!-- V√≠deo 2 -->
                <div class="bg-white shadow-lg">
                    <div class="flex items-center p-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full mr-3 hover-scale cursor-pointer" onclick="showBusinessProfile('manicure')"></div>
                        <div class="flex-1">
                            <h3 class="font-semibold cursor-pointer hover:text-tappy-blue transition-colors" onclick="showBusinessProfile('manicure')">Maria - Nail Designer</h3>
                            <p class="text-gray-500 text-sm">üìç 300m ‚Ä¢ h√° 1 hora</p>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600">‚ãØ</button>
                    </div>
                    
                    <div class="video-container bg-gradient-to-br from-pink-100 to-purple-200 flex items-center justify-center relative cursor-pointer" onclick="toggleVideo(this)">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg hover-scale">
                                <span class="text-tappy-blue text-2xl play-btn">‚ñ∂</span>
                            </div>
                            <p class="text-gray-700 font-medium">Nail art incr√≠vel em processo!</p>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <p class="mb-4 text-gray-800">Unhas decoradas com muito carinho e t√©cnica! Agende seu hor√°rio üíÖ‚ú® #NailArt #UnhasDecoradas</p>
                        <div class="flex items-center justify-between">
                            <div class="flex space-x-6">
                                <button onclick="likeVideo(this)" class="flex items-center space-x-2 text-tappy-dark hover:text-red-500 transition-colors like-btn">
                                    <span class="text-xl">ü§ç</span>
                                    <span class="like-count text-tappy-dark">89</span>
                                </button>
                                <button onclick="openComments()" class="flex items-center space-x-2 text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üí¨</span>
                                    <span class="text-tappy-dark">8</span>
                                </button>
                                <button onclick="shareVideo()" class="text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üì§</span>
                                </button>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">üîñ</button>
                        </div>
                    </div>
                </div>

                <!-- V√≠deo 3 -->
                <div class="bg-white shadow-lg">
                    <div class="flex items-center p-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-blue-400 rounded-full mr-3 hover-scale cursor-pointer" onclick="showBusinessProfile('cafe')"></div>
                        <div class="flex-1">
                            <h3 class="font-semibold cursor-pointer hover:text-tappy-blue transition-colors" onclick="showBusinessProfile('cafe')">Caf√© da Esquina</h3>
                            <p class="text-gray-500 text-sm">üìç 800m ‚Ä¢ h√° 30 min</p>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600">‚ãØ</button>
                    </div>
                    
                    <div class="video-container bg-gradient-to-br from-green-100 to-blue-200 flex items-center justify-center relative cursor-pointer" onclick="toggleVideo(this)">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg hover-scale">
                                <span class="text-tappy-blue text-2xl play-btn">‚ñ∂</span>
                            </div>
                            <p class="text-gray-700 font-medium">Latte art em a√ß√£o!</p>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <p class="mb-4 text-gray-800">O caf√© mais cremoso da regi√£o! Venha experimentar nosso latte especial ‚òïÔ∏è‚ù§Ô∏è #LatteArt #Caf√©Especial</p>
                        <div class="flex items-center justify-between">
                            <div class="flex space-x-6">
                                <button onclick="likeVideo(this)" class="flex items-center space-x-2 text-tappy-dark hover:text-red-500 transition-colors like-btn">
                                    <span class="text-xl">ü§ç</span>
                                    <span class="like-count text-tappy-dark">156</span>
                                </button>
                                <button onclick="openComments()" class="flex items-center space-x-2 text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üí¨</span>
                                    <span class="text-tappy-dark">23</span>
                                </button>
                                <button onclick="shareVideo()" class="text-tappy-dark hover:text-tappy-blue transition-colors">
                                    <span class="text-xl">üì§</span>
                                </button>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">üîñ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mapa de Neg√≥cios -->
        <div id="map-tab" class="tab-content pb-20">
            <div class="h-screen relative">
                <!-- Container do Mapa -->
                <div id="mapbox-container" class="w-full h-full">
                    <!-- Mapa ser√° criado aqui -->
                </div>
                
                <!-- Card lateral do neg√≥cio -->
                <div id="business-card" class="hidden absolute bottom-20 left-4 right-4 bg-white rounded-2xl p-6 shadow-2xl slide-in-right z-10">
                    <div id="business-card-content">
                        <!-- Conte√∫do ser√° preenchido dinamicamente -->
                    </div>
                </div>
                
                <!-- Controles do mapa -->
                <div class="absolute top-4 right-4 space-y-2 z-10">
                    <button onclick="centerMapOnUser()" class="w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover-scale">
                        <span class="text-xl">üéØ</span>
                    </button>
                    <button onclick="toggleMapStyle()" class="w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover-scale">
                        <span class="text-xl">üó∫Ô∏è</span>
                    </button>
                </div>
                
                <!-- Legenda -->
                <div class="absolute bottom-20 left-4 right-4 bg-white rounded-xl p-4 shadow-lg z-10">
                    <h3 class="font-semibold mb-2">Neg√≥cios pr√≥ximos</h3>
                    <div class="flex items-center justify-between text-sm">
                        <span class="flex items-center"><span class="mr-2">üçû</span>Padarias</span>
                        <span class="flex items-center"><span class="mr-2">üíÖ</span>Beleza</span>
                        <span class="flex items-center"><span class="mr-2">‚òï</span>Caf√©s</span>
                        <span class="flex items-center"><span class="mr-2">üõçÔ∏è</span>Lojas</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload de V√≠deo -->
        <div id="upload-tab" class="tab-content hidden pb-20">
            <div class="p-6">
                <h2 class="text-2xl font-bold mb-6 text-center text-tappy-dark">Criar V√≠deo</h2>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <div class="video-container bg-tappy-gray rounded-xl flex items-center justify-center mb-6 cursor-pointer hover-scale">
                        <div class="text-center">
                            <div class="w-20 h-20 bg-tappy-blue rounded-full flex items-center justify-center mx-auto mb-4 camera-bounce">
                                <span class="text-white text-3xl">üìπ</span>
                            </div>
                            <p class="text-tappy-dark mb-4 font-medium">Toque para gravar seu v√≠deo</p>
                            <button class="bg-tappy-blue text-white px-8 py-3 rounded-xl font-semibold btn-hover">Gravar V√≠deo</button>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="relative">
                            <span class="absolute left-4 top-4 text-gray-400">üìù</span>
                            <input type="text" placeholder="T√≠tulo do v√≠deo" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none transition-colors">
                        </div>
                        <div class="relative">
                            <span class="absolute left-4 top-4 text-gray-400">üí≠</span>
                            <textarea placeholder="Descri√ß√£o..." rows="3" class="w-full pl-12 pr-4 py-4 bg-white border border-tappy-gray rounded-xl text-tappy-dark focus:border-tappy-blue focus:outline-none resize-none transition-colors"></textarea>
                        </div>
                        
                        <div class="flex items-center space-x-2 p-4 border border-tappy-gray rounded-xl cursor-pointer hover:border-tappy-blue transition-colors">
                            <span class="text-xl">üìç</span>
                            <span class="text-tappy-dark flex-1">S√£o Paulo, SP - Brasil</span>
                            <span class="text-tappy-blue text-sm">Alterar</span>
                        </div>
                        
                        <div class="flex items-center space-x-2 p-4 border border-tappy-gray rounded-xl">
                            <span class="text-xl">üè∑Ô∏è</span>
                            <input type="text" placeholder="Adicionar tags..." class="flex-1 outline-none text-tappy-dark">
                        </div>
                    </div>
                    
                    <button class="w-full bg-tappy-orange text-white py-4 rounded-xl font-semibold mt-6 btn-hover">
                        Publicar V√≠deo
                    </button>
                </div>
            </div>
        </div>

        <!-- Perfil do Usu√°rio -->
        <div id="profile-tab" class="tab-content hidden pb-20">
            <div class="bg-tappy-blue p-6 text-white">
                <div class="text-center">
                    <div class="w-24 h-24 bg-white rounded-full mx-auto mb-4 hover-scale"></div>
                    <h2 class="text-2xl font-bold text-white">Ana Silva</h2>
                    <p class="text-tappy-gray mb-2">@anasilva</p>
                    <p class="text-tappy-gray text-sm mb-4">Amante de neg√≥cios locais e descobertas incr√≠veis! üè™‚ú®</p>
                    
                    <div class="flex justify-center space-x-8 mb-6">
                        <div class="text-center">
                            <div class="text-xl font-bold text-white">12</div>
                            <div class="text-sm text-tappy-gray">V√≠deos</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xl font-bold text-white">1.2k</div>
                            <div class="text-sm text-tappy-gray">Seguidores</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xl font-bold text-white">890</div>
                            <div class="text-sm text-tappy-gray">Seguindo</div>
                        </div>
                    </div>
                    
                    <button class="bg-tappy-orange text-white px-8 py-3 rounded-xl font-semibold btn-hover">Editar Perfil</button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex space-x-4 mb-6">
                    <button class="flex-1 bg-tappy-blue text-white py-3 rounded-xl font-semibold">Meus V√≠deos</button>
                    <button class="flex-1 bg-tappy-gray text-tappy-dark py-3 rounded-xl font-semibold">Curtidos</button>
                </div>
                
                <div class="grid grid-cols-3 gap-2">
                    <div class="aspect-square bg-gradient-to-br from-tappy-blue to-tappy-orange rounded-lg hover-scale cursor-pointer"></div>
                    <div class="aspect-square bg-gradient-to-br from-pink-400 to-purple-400 rounded-lg hover-scale cursor-pointer"></div>
                    <div class="aspect-square bg-gradient-to-br from-green-400 to-blue-400 rounded-lg hover-scale cursor-pointer"></div>
                    <div class="aspect-square bg-gradient-to-br from-orange-400 to-red-400 rounded-lg hover-scale cursor-pointer"></div>
                    <div class="aspect-square bg-gradient-to-br from-yellow-400 to-orange-400 rounded-lg hover-scale cursor-pointer"></div>
                    <div class="aspect-square bg-gradient-to-br from-indigo-400 to-purple-400 rounded-lg hover-scale cursor-pointer"></div>
                </div>
            </div>
        </div>

        <!-- Navega√ß√£o Inferior -->
        <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-2 z-50">
            <div class="flex justify-around">
                <button onclick="showTab('feed')" class="tab-btn flex flex-col items-center py-2 text-gray-400">
                    <span class="text-2xl mb-1">üè†</span>
                    <span class="text-xs font-medium">Feed</span>
                </button>
                <button onclick="showTab('map')" class="tab-btn flex flex-col items-center py-2 text-tappy-blue">
                    <span class="text-2xl mb-1">üó∫Ô∏è</span>
                    <span class="text-xs font-medium">Mapa</span>
                </button>
                <button onclick="showTab('upload')" class="tab-btn flex flex-col items-center py-2 text-gray-400">
                    <span class="text-2xl mb-1">‚ûï</span>
                    <span class="text-xs font-medium">Upload</span>
                </button>
                <button onclick="showTab('profile')" class="tab-btn flex flex-col items-center py-2 text-gray-400">
                    <span class="text-2xl mb-1">üë§</span>
                    <span class="text-xs font-medium">Perfil</span>
                </button>
            </div>
        </nav>
    </div>

    <!-- Modal de Coment√°rios -->
    <div id="comments-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 modal-overlay">
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl p-6 zoom-in">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold">Coment√°rios (2)</h3>
                <button onclick="closeComments()" class="text-gray-400 hover:text-gray-600">‚úï</button>
            </div>
            
            <div class="space-y-4 mb-6 max-h-60 overflow-y-auto">
                <div class="flex space-x-3">
                    <div class="w-8 h-8 bg-tappy-blue rounded-full"></div>
                    <div class="flex-1">
                        <p class="font-semibold text-sm">Carlos</p>
                        <p class="text-gray-600 text-sm">Que del√≠cia! Vou passar a√≠ hoje! üòã</p>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <div class="w-8 h-8 bg-tappy-gold rounded-full"></div>
                    <div class="flex-1">
                        <p class="font-semibold text-sm">Mariana</p>
                        <p class="text-gray-600 text-sm">Melhor padaria da regi√£o! ‚ù§Ô∏è</p>
                    </div>
                </div>
            </div>
            
            <div class="flex space-x-3">
                <div class="w-8 h-8 bg-gray-300 rounded-full"></div>
                <input type="text" id="comment-input" placeholder="Adicione um coment√°rio..." class="flex-1 p-3 border border-gray-200 rounded-full focus:border-tappy-blue focus:outline-none">
                <button onclick="addComment()" class="bg-tappy-blue text-white px-6 py-3 rounded-full font-semibold hover:bg-blue-600 transition-colors">Enviar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Perfil de Neg√≥cio -->
    <div id="business-profile-modal" class="hidden fixed inset-0 bg-white z-50">
        <div class="p-6">
            <button onclick="closeBusinessProfile()" class="mb-4 text-tappy-blue hover:text-blue-600 transition-colors">‚Üê Voltar</button>
            
            <div id="business-profile-content" class="text-center">
                <!-- Conte√∫do ser√° preenchido dinamicamente -->
            </div>
        </div>
    </div>

    <!-- Modal de Contato -->
    <div id="contact-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 modal-overlay">
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl p-6 zoom-in">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold">Entrar em Contato</h3>
                <button onclick="closeContactModal()" class="text-gray-400 hover:text-gray-600">‚úï</button>
            </div>
            
            <div class="space-y-4">
                <button class="w-full flex items-center space-x-4 p-4 border border-gray-200 rounded-xl hover:border-green-500 transition-colors">
                    <span class="text-2xl">üì±</span>
                    <div class="text-left">
                        <p class="font-semibold">WhatsApp</p>
                        <p class="text-gray-600 text-sm">Conversar pelo WhatsApp</p>
                    </div>
                </button>
                
                <button class="w-full flex items-center space-x-4 p-4 border border-gray-200 rounded-xl hover:border-blue-500 transition-colors">
                    <span class="text-2xl">üìß</span>
                    <div class="text-left">
                        <p class="font-semibold">E-mail</p>
                        <p class="text-gray-600 text-sm">Enviar um e-mail</p>
                    </div>
                </button>
                
                <button class="w-full flex items-center space-x-4 p-4 border border-gray-200 rounded-xl hover:border-blue-600 transition-colors">
                    <span class="text-2xl">üìû</span>
                    <div class="text-left">
                        <p class="font-semibold">Telefone</p>
                        <p class="text-gray-600 text-sm">Ligar diretamente</p>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Painel de Notifica√ß√µes -->
    <div id="notifications-panel" class="hidden fixed top-16 right-4 w-80 bg-white rounded-2xl shadow-2xl z-50 max-h-96 overflow-hidden">
        <div class="p-4 border-b border-gray-100">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-bold text-gray-800">Notifica√ß√µes</h3>
                <div class="flex items-center space-x-2">
                    <button onclick="markAllAsRead()" class="text-sm text-tappy-blue hover:text-blue-600 transition-colors">Marcar todas como lidas</button>
                    <button onclick="toggleNotifications()" class="text-gray-400 hover:text-gray-600">‚úï</button>
                </div>
            </div>
        </div>
        
        <div id="notifications-list" class="max-h-80 overflow-y-auto">
            <!-- Notifica√ß√µes ser√£o inseridas aqui dinamicamente -->
        </div>
        
        <div class="p-4 border-t border-gray-100 bg-gray-50">
            <button onclick="openNotificationSettings()" class="w-full text-center text-sm text-gray-600 hover:text-tappy-blue transition-colors">
                ‚öôÔ∏è Configurar Notifica√ß√µes
            </button>
        </div>
    </div>

    <!-- Modal de Configura√ß√µes de Notifica√ß√£o -->
    <div id="notification-settings-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 modal-overlay">
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl p-6 zoom-in">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold">Configura√ß√µes de Notifica√ß√£o</h3>
                <button onclick="closeNotificationSettings()" class="text-gray-400 hover:text-gray-600">‚úï</button>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
                    <div>
                        <p class="font-semibold">Novos v√≠deos pr√≥ximos</p>
                        <p class="text-gray-600 text-sm">Quando neg√≥cios pr√≥ximos postam</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" checked>
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tappy-blue"></div>
                    </label>
                </div>
                
                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
                    <div>
                        <p class="font-semibold">Promo√ß√µes especiais</p>
                        <p class="text-gray-600 text-sm">Ofertas e descontos exclusivos</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" checked>
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tappy-blue"></div>
                    </label>
                </div>
                
                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
                    <div>
                        <p class="font-semibold">Lembretes de check-in</p>
                        <p class="text-gray-600 text-sm">Quando voc√™ est√° perto de um lugar</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tappy-blue"></div>
                    </label>
                </div>
                
                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl">
                    <div>
                        <p class="font-semibold">Intera√ß√µes sociais</p>
                        <p class="text-gray-600 text-sm">Curtidas e coment√°rios nos seus v√≠deos</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" checked>
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tappy-blue"></div>
                    </label>
                </div>
            </div>
            
            <div class="mt-6 p-4 bg-tappy-gray rounded-xl">
                <h4 class="font-semibold mb-2">Hor√°rio de Sil√™ncio</h4>
                <div class="flex items-center space-x-4">
                    <div class="flex-1">
                        <label class="text-sm text-gray-600">Das</label>
                        <input type="time" value="22:00" class="w-full mt-1 p-2 border border-gray-200 rounded-lg focus:border-tappy-blue focus:outline-none">
                    </div>
                    <div class="flex-1">
                        <label class="text-sm text-gray-600">At√©</label>
                        <input type="time" value="08:00" class="w-full mt-1 p-2 border border-gray-200 rounded-lg focus:border-tappy-blue focus:outline-none">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Vari√°veis globais
        let mapInitialized = false;
        let notificationsData = [
            {
                id: 1,
                type: 'new_video',
                title: 'Novo v√≠deo pr√≥ximo!',
                message: 'Padaria do Jo√£o postou: "Croissants frescos saindo do forno!"',
                icon: 'üçû',
                time: '2 min atr√°s',
                read: false,
                business: 'Padaria do Jo√£o',
                action: 'Ver v√≠deo'
            },
            {
                id: 2,
                type: 'promotion',
                title: 'Promo√ß√£o especial! üéâ',
                message: 'Maria Nail Designer: 20% OFF em nail art at√© sexta-feira',
                icon: 'üíÖ',
                time: '15 min atr√°s',
                read: false,
                business: 'Maria - Nail Designer',
                action: 'Ver oferta'
            },
            {
                id: 3,
                type: 'social',
                title: 'Algu√©m curtiu seu v√≠deo',
                message: 'Carlos Santos curtiu seu v√≠deo sobre o caf√© da manh√£',
                icon: '‚ù§Ô∏è',
                time: '1 hora atr√°s',
                read: true,
                business: null,
                action: 'Ver perfil'
            }
        ];

        // Dados dos neg√≥cios expandidos
        const businessData = [
            {
                id: 'padaria',
                name: 'Padaria do Jo√£o',
                description: 'Tradi√ß√£o em p√£es artesanais desde 1985',
                fullDescription: 'H√° mais de 35 anos servindo a comunidade com p√£es frescos e produtos de qualidade. Utilizamos apenas ingredientes selecionados e receitas familiares passadas de gera√ß√£o em gera√ß√£o.',
                icon: 'üçû',
                color: '#FFB703',
                coordinates: [-46.6320, -23.5490],
                distance: '500m',
                rating: 4.8,
                followers: 1250,
                posts: 89,
                address: 'Rua das Flores, 123 - Centro',
                phone: '(11) 99999-1234',
                hours: 'Seg-S√°b: 6h-19h | Dom: 7h-13h',
                specialties: ['P√£o Franc√™s', 'Croissant', 'Bolo de Chocolate', 'Sonho'],
                videos: [
                    { title: 'P√£es frescos saindo do forno', likes: 124, time: '2h' },
                    { title: 'Fazendo croissants artesanais', likes: 89, time: '1d' },
                    { title: 'Receita secreta do bolo', likes: 156, time: '3d' },
                    { title: 'Manh√£ na padaria', likes: 67, time: '5d' }
                ]
            },
            {
                id: 'manicure',
                name: 'Maria - Nail Designer',
                description: 'Especialista em nail art h√° 8 anos',
                fullDescription: 'Profissional certificada em nail art e cuidados com as unhas. Atendimento personalizado com t√©cnicas modernas e produtos de alta qualidade. Cada cliente √© √∫nico!',
                icon: 'üíÖ',
                color: '#1DA1F2',
                coordinates: [-46.6340, -23.5520],
                distance: '300m',
                rating: 4.9,
                followers: 890,
                posts: 156,
                address: 'Av. Beleza, 456 - Sala 12',
                phone: '(11) 98888-5678',
                hours: 'Ter-S√°b: 9h-18h',
                specialties: ['Nail Art', 'Esmalta√ß√£o', 'Alongamento', 'Cuidados'],
                videos: [
                    { title: 'Nail art incr√≠vel em processo', likes: 89, time: '1h' },
                    { title: 'T√©cnica de alongamento', likes: 134, time: '2d' },
                    { title: 'Cuidados com cut√≠culas', likes: 78, time: '4d' },
                    { title: 'Tend√™ncias de esmalte', likes: 112, time: '6d' }
                ]
            },
            {
                id: 'cafe',
                name: 'Caf√© da Esquina',
                description: 'O melhor caf√© especial da regi√£o',
                fullDescription: 'Caf√© especial torrado artesanalmente com gr√£os selecionados. Ambiente aconchegante perfeito para trabalhar, estudar ou relaxar. Baristas especializados em latte art.',
                icon: '‚òï',
                color: '#FFB703',
                coordinates: [-46.6310, -23.5480],
                distance: '800m',
                rating: 4.7,
                followers: 2100,
                posts: 203,
                address: 'Esquina da Paz, 789',
                phone: '(11) 97777-9012',
                hours: 'Seg-Dom: 7h-22h',
                specialties: ['Espresso', 'Cappuccino', 'Latte Art', 'Doces'],
                videos: [
                    { title: 'Latte art em a√ß√£o', likes: 156, time: '30min' },
                    { title: 'Processo de torra especial', likes: 201, time: '1d' },
                    { title: 'Receita do cappuccino perfeito', likes: 178, time: '2d' },
                    { title: 'Ambiente aconchegante', likes: 145, time: '4d' }
                ]
            }
        ];

        // Fun√ß√µes principais
        function showScreen(screenId) {
            const screens = ['welcome-screen', 'signup-screen', 'login-screen', 'main-app'];
            screens.forEach(screen => {
                document.getElementById(screen).classList.add('hidden');
            });
            
            const targetScreen = document.getElementById(screenId);
            targetScreen.classList.remove('hidden');
            
            if (screenId === 'signup-screen') {
                targetScreen.classList.add('slide-in-right');
            } else if (screenId === 'login-screen') {
                targetScreen.classList.add('slide-in-left');
            } else {
                targetScreen.classList.add('fade-in');
            }
        }

        function showMainApp() {
            showScreen('main-app');
            showTab('map'); // Mudan√ßa: inicia no mapa em vez do feed
        }

        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Inicializar mapa quando necess√°rio
            if (tabName === 'map' && !mapInitialized) {
                setTimeout(() => {
                    initializeMap();
                    mapInitialized = true;
                }, 100);
            }
            
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => {
                btn.classList.remove('text-tappy-blue');
                btn.classList.add('text-gray-400');
            });
            
            event.target.closest('.tab-btn').classList.remove('text-gray-400');
            event.target.closest('.tab-btn').classList.add('text-tappy-blue');
        }

        // Fun√ß√£o para criar o mapa customizado
        function initializeMap() {
            const mapContainer = document.getElementById('mapbox-container');
            
            // Criar mapa customizado
            mapContainer.innerHTML = `
                <div class="w-full h-full relative overflow-hidden" style="background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 50%, #90CAF9 100%);">
                    <!-- Grid de ruas simulado -->
                    <div class="absolute inset-0 opacity-20">
                        <div class="grid grid-cols-8 grid-rows-8 h-full w-full">
                            ${Array(64).fill().map(() => '<div class="border border-gray-400"></div>').join('')}
                        </div>
                    </div>
                    
                    <!-- Elementos decorativos do mapa -->
                    <div class="absolute top-10 left-10 w-20 h-8 bg-green-300 rounded opacity-60"></div>
                    <div class="absolute top-20 right-16 w-16 h-16 bg-green-400 rounded-full opacity-50"></div>
                    <div class="absolute bottom-20 left-20 w-24 h-12 bg-blue-200 rounded opacity-70"></div>
                    <div class="absolute bottom-32 right-12 w-12 h-20 bg-green-300 rounded opacity-60"></div>
                    
                    <!-- Ruas principais -->
                    <div class="absolute top-1/3 left-0 right-0 h-2 bg-gray-300 opacity-80"></div>
                    <div class="absolute top-0 bottom-0 left-1/2 w-2 bg-gray-300 opacity-80"></div>
                    <div class="absolute top-2/3 left-0 right-0 h-1 bg-gray-400 opacity-60"></div>
                    <div class="absolute top-0 bottom-0 left-1/4 w-1 bg-gray-400 opacity-60"></div>
                    
                    <!-- Container para marcadores -->
                    <div id="markers-container" class="absolute inset-0"></div>
                </div>
            `;
            
            // Adicionar marcadores
            addCustomMarkers();
        }

        function addCustomMarkers() {
            const markersContainer = document.getElementById('markers-container');
            
            // Adicionar marcador do usu√°rio
            const userMarker = document.createElement('div');
            userMarker.className = 'absolute z-20';
            userMarker.style.left = '50%';
            userMarker.style.top = '50%';
            userMarker.style.transform = 'translate(-50%, -50%)';
            userMarker.innerHTML = `
                <div class="relative">
                    <div class="w-6 h-6 bg-blue-500 rounded-full shadow-lg animate-pulse border-4 border-white"></div>
                    <div class="w-12 h-12 bg-blue-500 bg-opacity-20 rounded-full absolute -top-3 -left-3 animate-ping"></div>
                </div>
            `;
            markersContainer.appendChild(userMarker);
            
            // Posi√ß√µes dos neg√≥cios no mapa
            const businessPositions = [
                { id: 'padaria', left: '35%', top: '40%' },
                { id: 'manicure', left: '65%', top: '30%' },
                { id: 'cafe', left: '40%', top: '70%' }
            ];
            
            // Adicionar marcadores dos neg√≥cios
            businessPositions.forEach(position => {
                const business = businessData.find(b => b.id === position.id);
                if (business) {
                    const marker = document.createElement('div');
                    marker.className = 'absolute z-10 cursor-pointer hover-scale';
                    marker.style.left = position.left;
                    marker.style.top = position.top;
                    marker.style.transform = 'translate(-50%, -50%)';
                    marker.innerHTML = `
                        <div class="relative">
                            <div class="w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-2xl animate-bounce transition-transform hover:scale-110" 
                                 style="background-color: ${business.color};">
                                ${business.icon}
                            </div>
                            <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded shadow-md text-xs font-semibold whitespace-nowrap opacity-0 hover:opacity-100 transition-opacity">
                                ${business.name}
                            </div>
                        </div>
                    `;
                    
                    // Adicionar evento de clique
                    marker.addEventListener('click', () => {
                        showBusinessCard(business.id);
                        
                        // Anima√ß√£o de clique
                        const icon = marker.querySelector('div > div');
                        icon.style.transform = 'scale(1.2)';
                        setTimeout(() => {
                            icon.style.transform = 'scale(1)';
                        }, 200);
                    });
                    
                    markersContainer.appendChild(marker);
                }
            });
        }

        function centerMapOnUser() {
            const userMarker = document.querySelector('#markers-container .z-20');
            if (userMarker) {
                userMarker.style.animation = 'none';
                userMarker.style.transform = 'translate(-50%, -50%) scale(1.2)';
                
                setTimeout(() => {
                    userMarker.style.transform = 'translate(-50%, -50%) scale(1)';
                    userMarker.style.animation = '';
                }, 500);
            }
            
            // Feedback visual
            const button = event.target.closest('button');
            const originalContent = button.innerHTML;
            button.innerHTML = '<span class="text-xl">üéØ</span>';
            button.style.backgroundColor = '#1E90FF';
            button.style.color = 'white';
            
            setTimeout(() => {
                button.innerHTML = originalContent;
                button.style.backgroundColor = '';
                button.style.color = '';
            }, 1000);
        }

        function toggleMapStyle() {
            const mapContainer = document.getElementById('mapbox-container');
            const currentBg = mapContainer.querySelector('div').style.background;
            
            const styles = [
                'linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 50%, #90CAF9 100%)',
                'linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 50%, #CE93D8 100%)',
                'linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 50%, #A5D6A7 100%)',
                'linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 50%, #FFCC80 100%)'
            ];
            
            const currentIndex = styles.findIndex(style => currentBg.includes(style.split(' ')[1])) || 0;
            const nextIndex = (currentIndex + 1) % styles.length;
            
            mapContainer.querySelector('div').style.background = styles[nextIndex];
            
            const button = event.target.closest('button');
            const originalContent = button.innerHTML;
            button.innerHTML = '<span class="text-xl">‚ú®</span>';
            
            setTimeout(() => {
                button.innerHTML = originalContent;
            }, 500);
        }

        function toggleVideo(container) {
            const playBtn = container.querySelector('.play-btn');
            const textCenter = container.querySelector('.text-center');
            
            if (playBtn.textContent === '‚ñ∂') {
                playBtn.textContent = '‚è∏';
                container.style.background = 'linear-gradient(135deg, #1E90FF, #FFD700)';
                textCenter.innerHTML = '<div class="text-white font-bold text-lg animate-pulse">üé¨ Reproduzindo...</div>';
            } else {
                playBtn.textContent = '‚ñ∂';
                container.style.background = '';
                const originalText = container.closest('.bg-white').querySelector('h3').textContent.includes('Padaria') ? 
                    'P√£es frescos saindo do forno!' : 
                    container.closest('.bg-white').querySelector('h3').textContent.includes('Maria') ? 
                    'Nail art incr√≠vel em processo!' : 
                    'Latte art em a√ß√£o!';
                
                textCenter.innerHTML = `
                    <div class="w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg hover-scale">
                        <span class="text-tappy-blue text-2xl play-btn">‚ñ∂</span>
                    </div>
                    <p class="text-gray-700 font-medium">${originalText}</p>
                `;
            }
        }

        function likeVideo(button) {
            const heart = button.querySelector('span');
            const countSpan = button.querySelector('.like-count');
            let count = parseInt(countSpan.textContent);
            
            if (heart.textContent === 'ü§ç') {
                heart.textContent = '‚ù§Ô∏è';
                heart.classList.add('heart-bounce');
                countSpan.textContent = count + 1;
                button.classList.remove('text-gray-600');
                button.classList.add('text-red-500');
            } else {
                heart.textContent = 'ü§ç';
                countSpan.textContent = count - 1;
                button.classList.remove('text-red-500');
                button.classList.add('text-gray-600');
            }
            
            setTimeout(() => heart.classList.remove('heart-bounce'), 600);
        }

        function openComments() {
            document.getElementById('comments-modal').classList.remove('hidden');
        }

        function closeComments() {
            document.getElementById('comments-modal').classList.add('hidden');
        }

        function shareVideo() {
            const shareBtn = event.target;
            shareBtn.style.transform = 'scale(1.2)';
            setTimeout(() => shareBtn.style.transform = 'scale(1)', 200);
            alert('V√≠deo compartilhado! üì§');
        }

        function showBusinessCard(businessType) {
            const business = businessData.find(b => b.id === businessType);
            if (!business) return;
            
            const content = `
                <div class="flex items-center space-x-4 mb-4">
                    <div class="w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-2xl" 
                         style="background-color: ${business.color};">
                        ${business.icon}
                    </div>
                    <div class="flex-1 text-left">
                        <h3 class="font-bold text-lg cursor-pointer hover:text-tappy-blue transition-colors" onclick="showBusinessProfile('${business.id}')">${business.name}</h3>
                        <p class="text-gray-600 text-sm">${business.description}</p>
                        <p class="text-tappy-blue text-sm">üìç ${business.distance} de voc√™</p>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button onclick="showBusinessProfile('${business.id}')" class="flex-1 bg-tappy-blue text-white py-3 rounded-xl font-semibold btn-hover">
                        Ver Perfil
                    </button>
                    <button onclick="openContactModal()" class="flex-1 bg-tappy-gold text-gray-800 py-3 rounded-xl font-semibold btn-hover">
                        Contato
                    </button>
                </div>
            `;
            
            document.getElementById('business-card-content').innerHTML = content;
            document.getElementById('business-card').classList.remove('hidden');
        }

        function showBusinessProfile(businessType) {
            const business = businessData.find(b => b.id === businessType);
            if (!business) return;
            
            const content = `
                <!-- Header do Perfil - Estilo igual ao usu√°rio -->
                <div class="text-white p-6" style="background: linear-gradient(135deg, ${business.color}, ${business.color}dd);">
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full mx-auto mb-4 hover-scale flex items-center justify-center text-4xl" style="background-color: rgba(255,255,255,0.2);">
                            ${business.icon}
                        </div>
                        <h2 class="text-2xl font-bold">${business.name}</h2>
                        <p class="opacity-90 mb-2">@${business.id}</p>
                        <p class="opacity-80 text-sm mb-4">${business.fullDescription}</p>
                        
                        <div class="flex justify-center space-x-8 mb-6">
                            <div class="text-center">
                                <div class="text-xl font-bold">${business.posts}</div>
                                <div class="text-sm opacity-80">V√≠deos</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xl font-bold">${business.followers}</div>
                                <div class="text-sm opacity-80">Seguidores</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xl font-bold">${business.rating}</div>
                                <div class="text-sm opacity-80">Avalia√ß√£o</div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-3 mb-4">
                            <button onclick="followBusiness('${business.id}')" class="flex-1 bg-white text-gray-800 py-3 rounded-full font-semibold btn-hover">
                                Seguir
                            </button>
                            <button onclick="openContactModal()" class="flex-1 bg-white bg-opacity-20 text-white py-3 rounded-full font-semibold btn-hover">
                                Contato
                            </button>
                        </div>
                        
                        <div class="flex justify-center space-x-4">
                            <button onclick="fazerCheckin('${business.id}')" class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-full text-sm font-semibold btn-hover">
                                üìç Check-in
                            </button>
                            <button onclick="shareBusiness('${business.id}')" class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-full text-sm font-semibold btn-hover">
                                üì§ Compartilhar
                            </button>
                            <button onclick="saveBusiness('${business.id}')" class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-full text-sm font-semibold btn-hover">
                                üîñ Salvar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Informa√ß√µes da Empresa -->
                <div class="p-6 bg-gray-50">
                    <div class="space-y-3 text-left">
                        <div class="flex items-center space-x-3">
                            <span class="text-xl">üìç</span>
                            <span class="text-gray-700 text-sm">${business.address}</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-xl">üìû</span>
                            <span class="text-gray-700 text-sm">${business.phone}</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-xl">üïí</span>
                            <span class="text-gray-700 text-sm">${business.hours}</span>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <div class="flex flex-wrap gap-2">
                            ${business.specialties.map(specialty => 
                                `<span class="bg-white px-3 py-1 rounded-full text-xs text-gray-700 shadow-sm">${specialty}</span>`
                            ).join('')}
                        </div>
                    </div>
                </div>
                
                <!-- Abas de Conte√∫do -->
                <div class="p-6">
                    <div class="flex space-x-4 mb-6">
                        <button onclick="switchBusinessTab('videos', '${business.id}')" class="business-tab-btn flex-1 bg-tappy-blue text-white py-3 rounded-xl font-semibold">
                            V√≠deos
                        </button>
                        <button onclick="switchBusinessTab('info', '${business.id}')" class="business-tab-btn flex-1 bg-gray-200 text-gray-600 py-3 rounded-xl font-semibold">
                            Sobre
                        </button>
                    </div>
                    
                    <!-- Grade de V√≠deos - Estilo TikTok -->
                    <div id="business-videos-tab" class="business-tab-content">
                        <div class="grid grid-cols-3 gap-2">
                            ${business.videos.map((video, index) => `
                                <div class="aspect-square rounded-lg hover-scale cursor-pointer relative overflow-hidden" 
                                     style="background: linear-gradient(135deg, ${business.color}, ${business.color}aa);"
                                     onclick="playBusinessVideo('${business.id}', ${index})">
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <div class="text-white text-center">
                                            <div class="text-2xl mb-1">${business.icon}</div>
                                            <div class="text-xs font-semibold opacity-90">${video.title.substring(0, 15)}...</div>
                                        </div>
                                    </div>
                                    <div class="absolute bottom-2 left-2 flex items-center space-x-1">
                                        <span class="text-white text-xs">‚ù§Ô∏è</span>
                                        <span class="text-white text-xs font-semibold">${video.likes}</span>
                                    </div>
                                    <div class="absolute top-2 right-2">
                                        <span class="text-white text-lg">‚ñ∂Ô∏è</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Aba Sobre -->
                    <div id="business-info-tab" class="business-tab-content hidden">
                        <div class="space-y-4">
                            <div class="bg-white p-4 rounded-xl shadow-sm">
                                <h4 class="font-semibold mb-2">Sobre o Neg√≥cio</h4>
                                <p class="text-gray-600 text-sm">${business.fullDescription}</p>
                            </div>
                            
                            <div class="bg-white p-4 rounded-xl shadow-sm">
                                <h4 class="font-semibold mb-2">Especialidades</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${business.specialties.map(specialty => 
                                        `<span class="bg-gray-100 px-3 py-1 rounded-full text-sm text-gray-700">${specialty}</span>`
                                    ).join('')}
                                </div>
                            </div>
                            
                            <div class="bg-white p-4 rounded-xl shadow-sm">
                                <h4 class="font-semibold mb-2">Avalia√ß√µes</h4>
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="text-2xl">‚≠ê</span>
                                    <span class="text-xl font-bold">${business.rating}</span>
                                    <span class="text-gray-500 text-sm">(${business.followers} avalia√ß√µes)</span>
                                </div>
                                <div class="space-y-1">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-sm w-8">5‚≠ê</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-2">
                                            <div class="bg-yellow-400 h-2 rounded-full" style="width: 85%"></div>
                                        </div>
                                        <span class="text-xs text-gray-500">85%</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-sm w-8">4‚≠ê</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-2">
                                            <div class="bg-yellow-400 h-2 rounded-full" style="width: 12%"></div>
                                        </div>
                                        <span class="text-xs text-gray-500">12%</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-sm w-8">3‚≠ê</span>
                                        <div class="flex-1 bg-gray-200 rounded-full h-2">
                                            <div class="bg-yellow-400 h-2 rounded-full" style="width: 3%"></div>
                                        </div>
                                        <span class="text-xs text-gray-500">3%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('business-profile-content').innerHTML = content;
            document.getElementById('business-profile-modal').classList.remove('hidden');
        }

        function followBusiness(businessId) {
            const button = event.target;
            const isFollowing = button.textContent.includes('Seguindo');
            
            if (isFollowing) {
                button.innerHTML = '‚ûï Seguir';
                button.style.backgroundColor = '#F3F4F6';
            } else {
                button.innerHTML = '‚úì Seguindo';
                button.style.backgroundColor = '#10B981';
                button.style.color = 'white';
            }
        }

        function shareBusiness(businessId) {
            const button = event.target;
            button.style.transform = 'scale(1.1)';
            setTimeout(() => button.style.transform = 'scale(1)', 200);
            alert('Perfil compartilhado! üì§');
        }

        function saveBusiness(businessId) {
            const button = event.target;
            const isSaved = button.textContent.includes('Salvo');
            
            if (isSaved) {
                button.innerHTML = 'üîñ Salvar';
                button.style.backgroundColor = '#F3F4F6';
                button.style.color = '#374151';
            } else {
                button.innerHTML = '‚úì Salvo';
                button.style.backgroundColor = '#F59E0B';
                button.style.color = 'white';
            }
        }

        function fazerCheckin(empresaId) {
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '‚úÖ Check-in realizado!';
            button.style.backgroundColor = '#10B981';
            button.style.color = 'white';
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.style.backgroundColor = '';
                button.style.color = '';
            }, 2000);
        }

        function closeBusinessProfile() {
            document.getElementById('business-profile-modal').classList.add('hidden');
        }

        function openContactModal() {
            document.getElementById('contact-modal').classList.remove('hidden');
        }

        function closeContactModal() {
            document.getElementById('contact-modal').classList.add('hidden');
        }

        function addComment() {
            const input = document.getElementById('comment-input');
            const commentText = input.value.trim();
            
            if (commentText === '') {
                return;
            }
            
            const commentsContainer = document.querySelector('#comments-modal .space-y-4');
            const newComment = document.createElement('div');
            newComment.className = 'flex space-x-3 fade-in';
            newComment.innerHTML = `
                <div class="w-8 h-8 bg-gradient-to-r from-tappy-blue to-tappy-gold rounded-full"></div>
                <div class="flex-1">
                    <p class="font-semibold text-sm">Voc√™</p>
                    <p class="text-gray-600 text-sm">${commentText}</p>
                </div>
            `;
            
            commentsContainer.appendChild(newComment);
            input.value = '';
            
            const modalTitle = document.querySelector('#comments-modal h3');
            const currentCount = commentsContainer.children.length;
            modalTitle.textContent = `Coment√°rios (${currentCount})`;
            
            const commentButtons = document.querySelectorAll('.tab-content:not(.hidden) button[onclick="openComments()"]');
            commentButtons.forEach(button => {
                const countSpan = button.querySelector('span:last-child');
                if (countSpan) {
                    const count = parseInt(countSpan.textContent);
                    countSpan.textContent = count + 1;
                }
            });
            
            commentsContainer.scrollTop = commentsContainer.scrollHeight;
        }

        // Sistema de notifica√ß√µes
        function toggleNotifications() {
            const panel = document.getElementById('notifications-panel');
            const isHidden = panel.classList.contains('hidden');
            
            if (isHidden) {
                panel.classList.remove('hidden');
                loadNotifications();
                document.getElementById('notification-icon').textContent = 'üîî';
            } else {
                panel.classList.add('hidden');
            }
        }

        function loadNotifications() {
            const notificationsList = document.getElementById('notifications-list');
            const unreadCount = notificationsData.filter(n => !n.read).length;
            
            const badge = document.getElementById('notification-badge');
            if (unreadCount > 0) {
                badge.textContent = unreadCount;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
            
            notificationsList.innerHTML = notificationsData.map(notification => `
                <div class="p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${!notification.read ? 'bg-blue-50' : ''}" 
                     onclick="handleNotificationClick(${notification.id})">
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 rounded-full flex items-center justify-center text-lg bg-gray-100">
                            ${notification.icon}
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <p class="font-semibold text-sm text-gray-900 truncate">${notification.title}</p>
                                <span class="text-xs text-gray-500">${notification.time}</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">${notification.message}</p>
                            ${notification.action ? `<button class="text-xs text-tappy-blue font-semibold mt-2 hover:text-blue-600 transition-colors">${notification.action}</button>` : ''}
                        </div>
                        ${!notification.read ? '<div class="w-2 h-2 bg-tappy-blue rounded-full"></div>' : ''}
                    </div>
                </div>
            `).join('');
        }

        function handleNotificationClick(notificationId) {
            const notification = notificationsData.find(n => n.id === notificationId);
            if (!notification) return;
            
            notification.read = true;
            
            switch(notification.type) {
                case 'new_video':
                    toggleNotifications();
                    showTab('feed');
                    break;
                case 'promotion':
                    toggleNotifications();
                    showTab('map');
                    break;
                case 'social':
                    toggleNotifications();
                    showTab('profile');
                    break;
            }
            
            loadNotifications();
        }

        function markAllAsRead() {
            notificationsData.forEach(notification => {
                notification.read = true;
            });
            loadNotifications();
            
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚úì Marcadas como lidas';
            button.style.color = '#10B981';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.color = '';
            }, 2000);
        }

        function openNotificationSettings() {
            document.getElementById('notification-settings-modal').classList.remove('hidden');
            toggleNotifications();
        }

        function closeNotificationSettings() {
            document.getElementById('notification-settings-modal').classList.add('hidden');
        }

        // Fun√ß√µes para as abas do perfil empresarial
        function switchBusinessTab(tabName, businessId) {
            // Alternar conte√∫do das abas
            const videoTab = document.getElementById('business-videos-tab');
            const infoTab = document.getElementById('business-info-tab');
            
            if (tabName === 'videos') {
                videoTab.classList.remove('hidden');
                infoTab.classList.add('hidden');
            } else {
                videoTab.classList.add('hidden');
                infoTab.classList.remove('hidden');
            }
            
            // Alternar estilo dos bot√µes
            const buttons = document.querySelectorAll('.business-tab-btn');
            buttons.forEach(btn => {
                btn.classList.remove('bg-tappy-blue', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-600');
            });
            
            event.target.classList.remove('bg-gray-200', 'text-gray-600');
            event.target.classList.add('bg-tappy-blue', 'text-white');
        }

        function playBusinessVideo(businessId, videoIndex) {
            const business = businessData.find(b => b.id === businessId);
            if (!business || !business.videos[videoIndex]) return;
            
            const video = business.videos[videoIndex];
            
            // Anima√ß√£o de clique
            const videoElement = event.target.closest('.aspect-square');
            videoElement.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                videoElement.style.transform = 'scale(1)';
                
                // Simular reprodu√ß√£o do v√≠deo
                alert(`üé¨ Reproduzindo: "${video.title}"\n‚ù§Ô∏è ${video.likes} curtidas ‚Ä¢ ${video.time}`);
            }, 150);
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            loadNotifications();
            
            // Permitir enviar coment√°rio com Enter
            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && document.getElementById('comments-modal').classList.contains('hidden') === false) {
                    const input = document.getElementById('comment-input');
                    if (document.activeElement === input) {
                        addComment();
                    }
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'975cf05d47eb5cb6',t:'MTc1NjMxMjA3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
